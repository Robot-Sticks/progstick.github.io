<!DOCTYPE html>
<html>
<head>
  <title>Firmware Flash Test</title>
</head>

<body>

  <input type="file" id="firmware-file">

  <button id="flash">Flash Firmware</button>

  <script>

    const input = document.getElementById('firmware-file');
    const flashBtn = document.getElementById('flash');

    flashBtn.addEventListener('click', async () => {
    
      // Lê arquivo selecionado  
      const file = input.files[0];
      const reader = new FileReader();
      reader.readAsArrayBuffer(file);

      reader.onload = async () => {
        
        // Firmware carregado
        const firmware = reader.result;
        
        // Código para gravar firmware na serial
        // Abre porta 
        // Escreve dados
        // Fecha porta
        
      };
      
    });

  </script>

</body>
</html>